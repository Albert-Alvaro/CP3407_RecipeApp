## Journal of the development process documented from the perspective of Albert Alvaro (14328932)

### 13/3/2024
Today I had started with actually revising my knowledge of Python by reading a Python primer that provided with the refresher I need to get back into the Python development process.I I had initialized the applicaiton section of the django project.Moreover, following the plan which we had created I had started with coding the Django models which are the equivalent to the database schema of typicial SQL databases. I had coded it to be faithful to the source material whihc was the ERD which we had created but there will probably be a need to change the model, however if we do not have to change the models, than we will be satisfied as that would meant hat we had sufficiently planned ahead.

### 19/3/2024
Today I started with actually building the foundation of the app. Firstly I created all fo the views and urls and html templates. The templates I use for this contain only the bare minimum to alow for an easier time in seeing everything work, moreover they are merely a placeholder for when we actually get into the front end design. There are 3 pages which I had created, the uploading page, the image list page, and the result page. The uploading page is where the user will be able to upload the image which they wish to scan, the image list page where the user will eb able to view all of the images which they have uploaded and choose which among them do they wish to select for analyzing, and the resutls page is where the user can view the results of the obejct detection software whcih their image has gone through, the results will be displayed in the form of a list. 

The image detection algorithm used is YOLO, which is able to detect objects within an image with reasonable accuracy and precision. I had managed to integrate the algorithm into the web application relatively smoothly, and it works with no problems.

### 20/3/2024
Today I had refined the output of the algorithm, the algorithm used to just output the individual objects inside of the image, now the objects are counted and shown to the user in a more easily read format, furthermore, the resulting image of the output of the model will be shown as well.

### 23/3/2024

Today, I improved upon the code further. Firstly I fixed some issues in regards to the displayed output image, the output image was being generated into specific directories based on the generated id of the image itself, hwoever the generated directory will not overwrite the previous directory if the user were to analyze the same image twice, meaning the user will only be shown the previous output image instead of the new one, solution for this was to rely on the hope that the user will make use of the web apps navigation flow and click the back button if they want to return to the images page, the back button will delete all of the outputted directories, ensuring that even if the same image is analyzed repeatedly the output image will be the most recent outputted image. Next is the cleaning of the database models, there were remnants of past attempts for trying to sotre the outputted image within the database, but it is unnecessary and was never put inot use, thus although it was not affecting anything, it was better to remvoe it and renew the migrations. 

The next thing I did was to start with the LLM integration, I imported the code from the LLM branch and have only made it into a class for easy importing, I have not implemented it yet today. However I have made it so that after the image of the user has been scanned they can click a button to the next page where they can see a list of the ingredients which they have and the option to also manually add upon what has been detected. 

Fixed another bug where the ingredients will duplicate because everytime it goes back one page it will load int he view of the page as well, causing duplicating ingredients as the page gets reloaded and the same ingredients gets inserted into the database again, and when the next button is hit the thing loads again, causing for there to be duplicated ingredients. Fixed the problem by adjusting and modfying how the pages flow from one another and making the back button in the ingredients page to also delete the output images as well.

I integrated the LLM into the code, it works but the output of the LLM is not formatted, and is hard to read. Need to do more research into how to return the output of the LLM in a way that is similar to how chatGPT does it, line per line maybe?

### 2/4/2024

The past few days to week has been mostly focused on refining and training a YoloV8 model that can fulfill the requirements which the web application demands, specifically the fact that the model just needs to recognize food ingredients and nothing else, thus I have been training a YoloV8 model on an image dataset filled with annotated ingredients which can be used by YoloV8 to train a model. It is slow going, literally, to train a model to any real capacity I would need 5-9 hours. Any lower and the model will just be hallucinating and blind most of the time. I have also fixed some bugs which arose due to the way the forms and objects were initialized in the views.py, this bug made the user have to click teh manual ingredient submit button twice before seeing their ingredient on the list. And the other feature which has been added, is the option to manually add ingredients in the homepage, the user will be able to add ingredients and when they analyze an image, the ingredients detected will simply be added upon the manually entered ingredients at the hoempage, moreover I will be making a way for the user to simply input ingredients and get the LLM output without having to go through the image, currently the user will have to analuyze an image if they want to find a recipe with their manually entered ingredients but that will be fixed and worked on soon enough.

### 3/4/2024

There were some minor and major changes from today. Firstly, the minor changes were the ability for users to now individually delete images stored instead of simply wiping everything with one button, users can now choose which image they want to delete. The major change though is the new feature which allows user to save a recipe which has been generated. The way it works is that a new boolean flag attribute has been created in the recipe entity table, which will indicate whether a recipe is saved or mere temporary. If it is temporary it will be deleted immediately, meanwhile if it is saved, then it will be left alone in the database, the user will then be able to view the saved recipe through an icon that has been placed in the navbar. The debugging, testing, and actual coding of this feature was a major challenge. There were some times where I would have to create several print functions in specific areas just to figure out what exactly is going wrong, moreover, I had also added comments to indicate what section of the views.py does what, which helped significantly reduce my time in searching for specific views. However, in return for the frustration I experienced, I can say for certain that I am more confident in Django then ever.